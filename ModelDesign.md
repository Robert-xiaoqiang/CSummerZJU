# DSV Model Design
---
### 设计任务

设计极为基础的数据结构, 以查找树(有序词典)为主要实现模型;
设计二叉查找树, 平衡二叉树, 伸展树, 左式堆, 哈夫曼树(贪心构造算法), 红黑树;

- **设计模型基类, 方便ViewModel层进行暴露**

   - 抽象各种模型共用的属性与方法, 设计必要的虚函数与纯虚函数
   - 设计基类(模板)树节点, 设计基类(模板)树

- **设计模型二叉查找树(Binary Search Tree)**

   - 支持操作: 插入, 删除, 查找, 清空
   - 结构: 二叉树, 树的度为2
   - 性质: 左右满足全序关系

- **设计模型平衡二叉树(AVL Tree)**

   - 支持操作: 插入, 删除, 查找, 清空
   - 结构: 二叉树, 树的度为2
   - 性质: 二叉查找树, 平衡因子(Balance Factor)  \in  {-1, 0, 1}
   
- **设计模型伸展树(Splay Tree)**
  
   - 支持操作: 插入, 删除, 查找, 清空
   - 结构: 二叉树, 树的度为2
   - 性质: 二叉查找树, 插入, 查找后的key 通过单旋转或双旋转至根节点
   
- **设计模型左式堆(Leftist Heap)**
  
   - 支持操作: 插入, 删除最大(最小), 清空
   - 结构: 二叉树
   - 性质: 堆序(偏序关系), NPL(左子树) >= NPL(右子树)
   
- **设计模型哈夫曼树(Huffman Tree)(使用Huffman 构造算法)**
  
   - 支持操作: 插入, 删除后通过Huffman贪心算法重新构建, 清空
   - 结构: 二叉树
   - 性质: 本质是左0右1的字典树
   
- **设计模型红黑树(RB-Tree)**

   - 支持操作: 插入, 删除, 查找, 清空
   - 结构: 二叉树
   - 性质: 
      1. 每一个节点是红红色或黑色
      2. 根节点是黑色的
      3. 叶子节点NIL是黑色的
      4. 有树边相连的2个节点不同时为红色
      5. 从任意节点出发, 黑高度与路径无关

---
### 设计思路与方案

- **模型基类设计方案**
  
   - 提供共有的基本成员函数, 如中序, 层序遍历等
   - 提供共有的成员对象`left`, `right`, `key`, `depth`
   - 继承属性通知发生器(`Proxy_PropertyNotification<T>`)
   - 继承命令通知发生器(`Proxy_CommandNotification<T>`)
   - 设计`virtual`析构函数, `virtual`清空函数(不同模型将使用不同清空动作)
   
- **二叉查找树设计方案**

   - 树节点继承基类树节点, 树继承基类树
   - 实现插入, 删除, 查找算法
   - 节点不需要增加其他属性
   - 树不需要增加其他属性 

- **平衡二叉树设计方案**
  
   - 树节点继承基类树节点, 树继承基类树
   - 实现插入, 删除, 查找算法, `RR`, `LL`,  `LR`, `RL`算法
   - 节点增加属性`height`信息, `parent`信息
   - 树不需要增加其他属型性
   
- **伸展树设计方案**
  
   - 树节点继承基类树节点, 树继承基类树
   - 实现插入, 删除, 查找算法, `RR`, `LL`,  `LR`, `RL`算法, 删除调整, 插入调整算法
   - 节点增加属性 `parent`信息
   - 树不需要增加其他属性 
   
- **左式堆设计方案**

   - 树节点继承基类树节点, 树继承基类树
   - 实现`Merge`算法, 在此基础上实现插入, 删除算法
   - 节点增加属性`NPL(Null Path Length)`信息
   - 树不需要增加其他属性

- **哈夫曼树设计方案**

   - 树节点继承基类树节点, 树继承基类树
   - 实现`Huffman`贪心构造算法

- **红黑树设计方案**

   - 树节点继承基类树节点, 树继承基类树
   - 实现插入, 删除, 查找算法, `RR`, `LL`,  `LR`, `RL`算法, 删除调整, 插入调整算法
   - 删除分为左右对称共8个`case`, 插入分为左右对称共6个`case`
   - 节点增加属性`NPL(Null Path Length)`信息, Red, Black信息
   - 树增加属性`NIL`节点的信息

---
### 设计实现

- **模型基类实现**

   - 模板声明
   ```C++
   template <typename T>
   struct BaseNode {
        T key;
        BaseNode *left;
        BaseNode *right;
   
        int depth;
        int inorderIndex; 
        NodeType state;
        NodeColor color;
   
        BaseNode(const T& key);
        virtual ~BaseNode(); 
    };
   ```

- **二叉查找树实现**

   - 

- **平衡二叉树实现**

   - 

- **伸展树实现**

   - 

- **左式堆实现**

   - 

- **哈夫曼树实现**

   - 

- **红黑树实现**

   - 

---
### 单元测试
---
### 图表说明
---
### 本课程心得体会